
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>طلب تكسي - تكسي حمودي</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f0f0f0;
    }
    h2 {
      text-align: center;
      color: #333;
    }
    form {
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      background-color: #28a745;
      color: white;
      font-size: 16px;
      border: none;
      width: 100%;
      border-radius: 10px;
      cursor: pointer;
    }
    .price {
      text-align: center;
      margin-top: 10px;
      font-size: 18px;
      color: #007bff;
    }
  </style>
</head>
<body>
  <h2>طلب تكسي - تكسي حمودي</h2>
  <form id="taxiForm">
    <label>الاسم الثلاثي *</label>
    <input type="text" id="name" required />

    <label>رقم الهاتف</label>
    <input type="tel" id="phone" />

    <label>موقع الزبون</label>
    <select id="from">
      <option value="">اختر</option>
      <option value="سوق الرطبة">سوق الرطبة</option>
      <option value="سوق الكماليات">سوق الكماليات</option>
      <option value="الميثاق القديم">الميثاق القديم</option>
      <option value="الميثاق الجديد">الميثاق الجديد</option>
      <option value="حي الانتصار">حي الانتصار</option>
      <option value="الحارة القديمة">الحارة القديمة</option>
      <option value="الحارة الجديدة">الحارة الجديدة</option>
      <option value="شارع الزيتون">شارع الزيتون</option>
      <option value="شارع 60">شارع 60</option>
      <option value="شارع الحولي">شارع الحولي</option>
      <option value="الكرابلة">الكرابلة</option>
      <option value="المطار القديم">المطار القديم</option>
      <option value="المطار الجديد">المطار الجديد</option>
      <option value="حي العسكري">حي العسكري</option>
      <option value="مستشفى الرطبة العامة">مستشفى الرطبة العامة</option>
    </select>

    <label>الوجهة</label>
    <select id="to">
      <option value="">اختر</option>
      <option value="سوق الرطبة">سوق الرطبة</option>
      <option value="سوق الكماليات">سوق الكماليات</option>
      <option value="الميثاق القديم">الميثاق القديم</option>
      <option value="الميثاق الجديد">الميثاق الجديد</option>
      <option value="حي الانتصار">حي الانتصار</option>
      <option value="الحارة القديمة">الحارة القديمة</option>
      <option value="الحارة الجديدة">الحارة الجديدة</option>
      <option value="شارع الزيتون">شارع الزيتون</option>
      <option value="شارع 60">شارع 60</option>
      <option value="شارع الحولي">شارع الحولي</option>
      <option value="الكرابلة">الكرابلة</option>
      <option value="المطار القديم">المطار القديم</option>
      <option value="المطار الجديد">المطار الجديد</option>
      <option value="حي العسكري">حي العسكري</option>
      <option value="مستشفى الرطبة العامة">مستشفى الرطبة العامة</option>
    </select>

    <label>نوع التكسي</label>
    <select id="taxiType">
      <option value="عادي">تكسي عادي</option>
      <option value="حمل">تكسي حمل</option>
    </select>

    <label>نوع الطلب</label>
    <input type="text" id="orderType" placeholder="مثل: توصيل شخص، توصيل غرض..." />

    <div class="price" id="priceText">السعر: -</div>

    <button type="button" onclick="sendTelegram()">إرسال الطلب إلى تلغرام</button>
  </form>

  <script>
    const prices = {
      "سوق الرطبة": 2000,
      "سوق الكماليات": 2000,
      "الميثاق القديم": 2000,
      "الميثاق الجديد": 2500,
      "حي الانتصار": 2500,
      "الحارة القديمة": 2000,
      "الحارة الجديدة": 2500,
      "شارع الزيتون": 2500,
      "شارع 60": 2500,
      "شارع الحولي": 2500,
      "الكرابلة": 3000,
      "المطار القديم": 2500,
      "المطار الجديد": 3000,
      "حي العسكري": 2500,
      "مستشفى الرطبة العامة": 2500,
      "سوق الكماليات": 2000,
      "الميثاق القديم": 2000,
      "الميثاق الجديد": 2500,
      "حي الانتصار": 2500,
      "الحارة القديمة": 2000,
      "الحارة الجديدة": 2500,
      "شارع الزيتون": 2500,
      "شارع 60": 2500,
      "شارع الحولي": 2500,
      "الكرابلة": 3000,
      "المطار القديم": 2500,
      "المطار الجديد": 3000,
      "حي العسكري": 2500,
      "مستشفى الرطبة العامة": 2500
    };

    function calculatePrice(from, to) {
      const base = prices[from] || 0;
      const dest = prices[to] || 0;
      return Math.max(base, dest);
    }

    function sendTelegram() {
      const token = '8315380619:AAGnaVyy8OOUGuuXLP6TjrBRJZMPgt8GfIc';
      const chat_id = '7929039090';

      const name = document.getElementById("name").value.trim();
      if (!name) {
        alert("يرجى إدخال الاسم الثلاثي");
        return;
      }

      const phone = document.getElementById("phone").value.trim();
      const from = document.getElementById("from").value;
      const to = document.getElementById("to").value;
      const taxiType = document.getElementById("taxiType").value;
      const orderType = document.getElementById("orderType").value.trim();

      const price = calculatePrice(from, to);
      document.getElementById("priceText").innerText = `السعر: ${price} دينار`;

      const message = `🚕 طلب تكسي:
الاسم: ${name}
رقم الهاتف: ${phone}
من: ${from}
إلى: ${to}
نوع التكسي: ${taxiType}
نوع الطلب: ${orderType}
✅ السعر: ${price} دينار`;

      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          chat_id: chat_id,
          text: message
        })
      }).then(response => {
        if (response.ok) {
          alert("✅ تم إرسال الطلب إلى تلغرام بنجاح");
          document.getElementById("taxiForm").reset();
          document.getElementById("priceText").innerText = "السعر: -";
        } else {
          alert("❌ فشل في إرسال الطلب، تأكد من صحة التوكن والـ Chat ID");
        }
      }).catch(error => {
        alert("⚠️ حصل خطأ أثناء الإرسال: " + error);
      });
    }
  </script>
</body>
</html>
